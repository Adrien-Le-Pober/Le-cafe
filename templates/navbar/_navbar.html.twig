{% set currentPath = path(app.request.attributes.get('_route'),
    app.request.attributes.get('_route_params')) %}
<div class="py-3 py-lg-5">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top py-2 py-lg-4">
        <div class="container-fluid">
            <a class="navbar-brand fs-1 ms-3" href="{{ path('app_home') }}">Le café</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mx-auto mb-2 mb-lg-0 w-50 d-flex flex-column align-items-center flex-lg-row justify-content-lg-around">
                    <li class="nav-item">
                        <a class="nav-link {{ currentPath is same as "/" ? 'active' : '' }}" aria-current="page" href={{ path('app_home') }}>Accueil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ currentPath is same as "/about" ? 'active' : '' }}" href="{{ path('app_about') }}">À propos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ currentPath is same as "/product/" ? 'active' : '' }}" href={{ path('app_product_index') }}>Produits</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ currentPath is same as "/contact" ? 'active' : '' }}" href={{ path('app_contact') }}>Contact</a>
                    </li>
                </ul>
                <a class="nav-link" href={{ path('app_cart') }}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bag text-light" viewBox="0 0 16 16">
                        <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5z"/>
                    </svg>
                </a>
                <ul class="navbar-nav text-center">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle me-3" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            {% if is_granted("ROLE_USER") %}
                                Mon compte
                            {% else %}
                                Connexion
                            {% endif %}
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark me-5" aria-labelledby="navbarDropdown">
                            {% if is_granted("ROLE_USER") %}
                                <li><a class="dropdown-item" href="#">Mon compte</a></li>
                                <li><a class="dropdown-item" href="#">Mes commandes</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href={{ path('app_logout') }}>Déconnexion</a></li>
                            {% else %}
                                <li><a class="dropdown-item" href={{ path('app_register') }}>Inscription</a></li>
                                <li><a class="dropdown-item" href={{ path('app_login') }}>Connexion</a></li>
                            {% endif %}
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
